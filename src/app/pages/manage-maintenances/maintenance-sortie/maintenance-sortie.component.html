<form [ngBusy]="busy" #f="ngForm" (ngSubmit)="valider()">

  <card cardTitle="Ajouter un sortie" isCollapse="true">
      <div class="form-group {{ddamort.errors && (ddamort.dirty || ddamort.touched) ? 'has-error' :''}}">
          <label class="control-label">Date de sortie</label>

          <input type="date" name="dateSortie" class="form-control" #ddamort="ngModel"
                 [(ngModel)]="sortie.dateSortie" >
          <label *ngIf="ddamort.errors && (ddamort.dirty || ddamort.touched)"
                 class="has-error">Ce champs
            est
            obligatoire.</label>
        </div>
      <div class="form-group {{codeArt.errors && (codeArt.dirty || codeArt.touched) ? 'has-error' :''}}">
      <label class="control-label">Immobilisation</label>
      <select name="codeArt" id="select2" class="form-control" #codeArt="ngModel"
              [(ngModel)]="sortie.codeImmo" 
              required>
        <option *ngFor="let immobilisation of immobilisations" value="{{immobilisation.codeImmo}}">{{immobilisation.codeImmo}}
        </option>
      </select>
      <label *ngIf="codeArt.errors && (codeArt.dirty || codeArt.touched)"
             class="has-error">Ce champs
        est
        obligatoire.</label>
    </div>
    <div class="form-group {{codeFr.errors && (codeFr.dirty || codeFr.touched) ? 'has-error' :''}}">
      <label class="control-label">Destination</label>
      <select name="codeFr" id="select1" class="form-control" #codeFr="ngModel"
              [(ngModel)]="sortie.codeFr"
              required>
        <option *ngFor="let fournisseur of fournisseurs" value="{{fournisseur.codeFr}}">
          {{fournisseur.codeFr}}
        </option>
      </select>
      <label *ngIf="codeFr.errors && (codeFr.dirty || codeFr.touched)"
             class="has-error">Ce champs
        est
        obligatoire.</label>
    </div>
    <div class="form-group {{motifSortie.errors && (motifSortie.dirty || motifSortie.touched) ? 'has-error' :''}}">
      <label class="control-label">Motif de sortie</label>
      <input type="text" name="motifSortie" #motifSortie="ngModel" class="form-control" placeholder="Motif de sortie"
             [(ngModel)]="sortie.motifSortie">
             <label *ngIf="motifSortie.errors && (motifSortie.dirty || motifSortie.touched)"
             class="has-error">Ce champs
        est
        obligatoire.</label>
    </div>
      <div class="form-group {{observSortie.errors && (observSortie.dirty || observSortie.touched) ? 'has-error' :''}}">
          <label class="control-label">Observation</label>
          <input type="text" name="observSortie" class="form-control" #observSortie="ngModel" placeholder="Observation"
                 [(ngModel)]="sortie.observSortie">
          <label *ngIf="observSortie.errors && (observSortie.dirty || observSortie.touched)"
                 class="has-error">Ce champs
            est
            obligatoire.
          </label>
        </div>
    <div class="text-right">
      <a href="javascript:" class="btn btn-danger btn-with-icon"
         [routerLink]="['/pages/manage-maintenances/maintenances-list']">
        <i class="fa fa-check fa-fw"></i>Annuler
      </a>
      <button type="submit" class="btn btn-success btn-with-icon">
        <i class="fa fa-check fa-fw"></i>Valider
      </button>
    </div>
  </card>
</form>